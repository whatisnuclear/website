<!doctype html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">
  <head>
    {% include head.html %}
    <link rel="stylesheet" href="../dist/reveal.css">
    <link rel="stylesheet" id="theme" href="../dist/theme/night.css">
    <style>
      .reveal .footer {
        position: absolute;
        bottom: 1em;
        left: 1em;
        font-size: 0.4em;
        color: #949494;
      }

      p.frontmatter {
        margin-top: 5px;
        margin-bottom: 5px;
      }

      p.attribution {
        font-size: 0.5em;
        color: #444444;
      }

      h4.rxtypes {
        margin-top: 20px;
      }

      .full {
        height: 100%;
        width: 100%;
      }
      .bottom_r {
        bottom: 0px;
        right: 0px;
        font-size: 0.5em;
        position: absolute;
      }
    </style>
  </head>

  <body>
    <div class="reveal">
      <div class="slides">{{ content }}</div>
      <div class="footer">CC-BY-NC whatisnuclear.com</div>
    </div>

    <script src="../dist/reveal.js"></script>
    <script src="../dist/reveal.js-plugins/notes/notes.js"></script>
    <script src="../dist/reveal.js-plugins/zoom/zoom.js"></script>
    <script src="../dist/reveal.js-plugins/chart/plugin.js"></script>
    <script>
      // handle customization of slides

      let now = new Date();
      let event = document.getElementById('event');
      let eventC = document.getElementById('event-c');
      let presenter = document.getElementById('presenter');
      let presenterC = document.getElementById('presenter-c');
      let date = document.getElementById('date');
      let title = document.getElementById('pres-title');
      let theme = document.getElementById('theme');

      // Theme mapping
      const themes = {
        black: 'black.css',
        white: 'white.css',
        league: 'league.css',
        sky: 'sky.css',
        beige: 'beige.css',
        simple: 'simple.css',
        solarized: 'solarized.css',
        blood: 'blood.css',
        night: 'night.css',
        moon: 'moon.css',
      };
      const themeLink = document.getElementById('theme');
      const baseUrl = '../dist/theme/';

      function setInputVals() {
        // These can all be passed in as query params
        const input = new URLSearchParams(window.location.search);
        event.innerText = input.get('event') || '';
        presenter.innerText = input.get('presenter') || '';
        date.innerText = input.get('date') || now.toLocaleDateString();
        title.innerText =
          input.get('title') || 'Introduction to Nuclear Energy';

        if (!presenter.innerText) {
          presenterC.style.visibility = 'hidden';
        }
        if (!event.innerText) {
          eventC.style.visibility = 'hidden';
        }

        themeLink.href = baseUrl + themes[input.get('theme') || 'night'];
      }

      setInputVals();

      Reveal.initialize({
        mouseWheel: true,
        plugins: [RevealNotes, RevealZoom],
        width: 960 * 1.9,
        height: 700 * 1.5,
        hash: true,
        slideNumber: 'c',
      });
    </script>
  </body>
</html>
